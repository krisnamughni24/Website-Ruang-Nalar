!(function (t, e) {
  "object" == typeof exports && "object" == typeof module
    ? (module.exports = e(require("react")))
    : "function" == typeof define && define.amd
    ? define("rb_wixui.thunderbolt[WPhoto_CirclePhoto]", ["react"], e)
    : "object" == typeof exports
    ? (exports["rb_wixui.thunderbolt[WPhoto_CirclePhoto]"] = e(
        require("react")
      ))
    : (t["rb_wixui.thunderbolt[WPhoto_CirclePhoto]"] = e(t.React));
})("undefined" != typeof self ? self : this, function (t) {
  return (function () {
    var e = {
        40841: function (t, e) {
          var i;
          /*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/ !(function () {
            "use strict";
            var n = {}.hasOwnProperty;
            function a() {
              for (var t = [], e = 0; e < arguments.length; e++) {
                var i = arguments[e];
                if (i) {
                  var r = typeof i;
                  if ("string" === r || "number" === r) t.push(i);
                  else if (Array.isArray(i)) {
                    if (i.length) {
                      var o = a.apply(null, i);
                      o && t.push(o);
                    }
                  } else if ("object" === r) {
                    if (
                      i.toString !== Object.prototype.toString &&
                      !i.toString.toString().includes("[native code]")
                    ) {
                      t.push(i.toString());
                      continue;
                    }
                    for (var c in i) n.call(i, c) && i[c] && t.push(c);
                  }
                }
              }
              return t.join(" ");
            }
            t.exports
              ? ((a.default = a), (t.exports = a))
              : void 0 ===
                  (i = function () {
                    return a;
                  }.apply(e, [])) || (t.exports = i);
          })();
        },
        5329: function (e) {
          "use strict";
          e.exports = t;
        },
        448: function (t) {
          function e() {
            return (
              (t.exports = e =
                Object.assign
                  ? Object.assign.bind()
                  : function (t) {
                      for (var e = 1; e < arguments.length; e++) {
                        var i = arguments[e];
                        for (var n in i)
                          Object.prototype.hasOwnProperty.call(i, n) &&
                            (t[n] = i[n]);
                      }
                      return t;
                    }),
              (t.exports.__esModule = !0),
              (t.exports.default = t.exports),
              e.apply(this, arguments)
            );
          }
          (t.exports = e),
            (t.exports.__esModule = !0),
            (t.exports.default = t.exports);
        },
        66820: function (t) {
          (t.exports = function (t, e) {
            if (null == t) return {};
            var i,
              n,
              a = {},
              r = Object.keys(t);
            for (n = 0; n < r.length; n++)
              (i = r[n]), e.indexOf(i) >= 0 || (a[i] = t[i]);
            return a;
          }),
            (t.exports.__esModule = !0),
            (t.exports.default = t.exports);
        },
      },
      i = {};
    function n(t) {
      var a = i[t];
      if (void 0 !== a) return a.exports;
      var r = (i[t] = { exports: {} });
      return e[t](r, r.exports, n), r.exports;
    }
    (n.n = function (t) {
      var e =
        t && t.__esModule
          ? function () {
              return t.default;
            }
          : function () {
              return t;
            };
      return n.d(e, { a: e }), e;
    }),
      (n.d = function (t, e) {
        for (var i in e)
          n.o(e, i) &&
            !n.o(t, i) &&
            Object.defineProperty(t, i, { enumerable: !0, get: e[i] });
      }),
      (n.o = function (t, e) {
        return Object.prototype.hasOwnProperty.call(t, e);
      }),
      (n.r = function (t) {
        "undefined" != typeof Symbol &&
          Symbol.toStringTag &&
          Object.defineProperty(t, Symbol.toStringTag, { value: "Module" }),
          Object.defineProperty(t, "__esModule", { value: !0 });
      });
    var a = {};
    return (
      (function () {
        "use strict";
        n.r(a),
          n.d(a, {
            components: function () {
              return Ne;
            },
          });
        var t = {};
        n.r(t),
          n.d(t, {
            STATIC_MEDIA_URL: function () {
              return _e;
            },
            alignTypes: function () {
              return k;
            },
            fittingTypes: function () {
              return M;
            },
            getData: function () {
              return ue;
            },
            getPlaceholder: function () {
              return le;
            },
            htmlTag: function () {
              return N;
            },
            populateGlobalFeatureSupport: function () {
              return st;
            },
            sdk: function () {
              return me;
            },
            upscaleMethods: function () {
              return F;
            },
          });
        var e = n(448),
          i = n.n(e),
          r = n(5329);
        const o = new RegExp("<%= compId %>", "g"),
          c = (t, e) => t.replace(o, e);
        var s = (t) => {
            const e = t.skin,
              n = t.id,
              a = t.uri,
              o = t.alt,
              s = t.name,
              l = t.width,
              u = t.height,
              h = t.displayMode,
              d = t.focalPoint,
              g = t.filterEffectSvgUrl,
              p = t.quality,
              f = t.crop,
              m = t.onSizeChange,
              _ = t.onLoad,
              T = t.getPlaceholder,
              E = t.containerWidth,
              I = t.containerHeight,
              L = t.isInFirstFold,
              b = t.lazyLoadImgExperimentOpen,
              O = t.shouldUseWowImage,
              A = {
                containerId: n,
                uri:
                  a ||
                  "data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",
                alt: o,
                name: s,
                width: l,
                height: u,
                displayMode: h,
                focalPoint: d,
                quality: p,
                crop: f,
                onLoad:
                  _ && ((w = a), /(^https?)|(^data)|(^blob)|(^\/\/)/.test(w))
                    ? (t) => {
                        const e = t.target,
                          i = e.naturalWidth,
                          n = e.naturalHeight;
                        i &&
                          n &&
                          (i !== l || n !== u) &&
                          (m(i, n), null == _ || _());
                      }
                    : void 0,
                getPlaceholder: T,
                containerWidth: E,
                containerHeight: I,
                isInFirstFold: L,
                lazyLoadImgExperimentOpen: b,
                shouldUseWowImage: O,
              };
            var w;
            const M = g ? c(g, n) : void 0;
            return r.createElement(
              e,
              i()({}, t, { imageProps: A, filterEffectSvgUrl: M })
            );
          },
          l = { link: "mGoGm2", image: "lDHlrQ", root: "dWLwCn" },
          u = n(40841),
          h = n.n(u);
        const d = (t) =>
          Object.entries(t).reduce((t, e) => {
            let i = e[0],
              n = e[1];
            return i.includes("data-") && (t[i] = n), t;
          }, {});
        var g = "rYiAuL",
          p = "gSXewE";
        const f = (t) => {
            const e = t.id,
              n = t.children,
              a = t.className,
              o = t.title,
              s = t.onClick,
              l = t.onDblClick,
              u = t.withOnClickHandler,
              f = t.onMouseEnter,
              m = t.onMouseLeave,
              _ = t.filterEffectSvgString,
              T = t.filterEffectSvgUrl,
              E = u ? g : "",
              I = T ? { style: { "--filter-effect-svg-url": T } } : {},
              L = _
                ? r.createElement(
                    "svg",
                    { id: "svg_" + e, className: p },
                    r.createElement("defs", {
                      dangerouslySetInnerHTML: { __html: c(_, e) },
                    })
                  )
                : null;
            return r.createElement(
              "div",
              i()(
                { id: e },
                d(t),
                {
                  className: h()(a, E),
                  title: o,
                  onClick: s,
                  onDoubleClick: l,
                  onMouseEnter: f,
                  onMouseLeave: m,
                },
                I
              ),
              L,
              n
            );
          },
          m = "linkElement";
        n(66820);
        const _ = 13,
          T = 27;
        function E(t) {
          return (e) => {
            e.keyCode === t &&
              (e.preventDefault(),
              e.stopPropagation(),
              e.currentTarget.click());
          };
        }
        const I = E(32),
          L = E(_),
          b = (t) => {
            L(t), I(t);
          },
          O =
            (E(T),
            (t, e) => {
              const n = t.href,
                a = t.role,
                o = t.target,
                c = t.rel,
                s = t.className,
                l = void 0 === s ? "" : s,
                u = t.children,
                h = t.linkPopupId,
                g = t.anchorDataId,
                p = t.anchorCompId,
                f = t.tabIndex,
                _ = t.dataTestId,
                T = void 0 === _ ? m : _,
                E = t.title,
                O = t.onClick,
                A = t.onDoubleClick,
                w = t.onMouseEnter,
                M = t.onMouseLeave,
                y = t.onFocusCapture,
                C = t.onBlurCapture,
                S = t["aria-live"],
                R = t["aria-disabled"],
                v = t["aria-label"],
                x = t["aria-labelledby"],
                k = t["aria-pressed"],
                G = t["aria-expanded"],
                P = t["aria-describedby"],
                N = t["aria-haspopup"],
                F =
                  void 0 !== t.activateByKey
                    ? t.activateByKey
                    : ((t) => (t ? "SpaceOrEnter" : "Space"))(h);
              let j;
              switch (F) {
                case "Enter":
                  j = L;
                  break;
                case "Space":
                  j = I;
                  break;
                case "SpaceOrEnter":
                  j = b;
                  break;
                default:
                  j = void 0;
              }
              return void 0 !== n
                ? r.createElement(
                    "a",
                    i()({}, d(t), {
                      "data-testid": T,
                      "data-popupid": h,
                      "data-anchor": g,
                      "data-anchor-comp-id": p,
                      href: n || void 0,
                      target: o,
                      role: h ? "button" : a,
                      rel: c,
                      className: l,
                      onKeyDown: j,
                      "aria-live": S,
                      "aria-disabled": R,
                      "aria-label": v,
                      "aria-labelledby": x,
                      "aria-pressed": k,
                      "aria-expanded": G,
                      "aria-haspopup": N,
                      "aria-describedby": P,
                      title: E,
                      onClick: O,
                      onMouseEnter: w,
                      onMouseLeave: M,
                      onDoubleClick: A,
                      onFocusCapture: y,
                      onBlurCapture: C,
                      ref: e,
                      tabIndex: h ? 0 : f,
                    }),
                    u
                  )
                : r.createElement(
                    "div",
                    i()({}, d(t), {
                      "data-testid": T,
                      className: l,
                      tabIndex: f,
                      "aria-label": v,
                      "aria-labelledby": x,
                      "aria-haspopup": N,
                      "aria-disabled": R,
                      title: E,
                      role: a,
                      onClick: O,
                      onDoubleClick: A,
                      onMouseEnter: w,
                      onMouseLeave: M,
                      ref: e,
                    }),
                    u
                  );
            });
        var A = r.forwardRef(O);
        var w = "HlRz5e";
        const M = {
            SCALE_TO_FILL: "fill",
            SCALE_TO_FIT: "fit",
            STRETCH: "stretch",
            ORIGINAL_SIZE: "original_size",
            TILE: "tile",
            TILE_HORIZONTAL: "tile_horizontal",
            TILE_VERTICAL: "tile_vertical",
            FIT_AND_TILE: "fit_and_tile",
            LEGACY_STRIP_TILE: "legacy_strip_tile",
            LEGACY_STRIP_TILE_HORIZONTAL: "legacy_strip_tile_horizontal",
            LEGACY_STRIP_TILE_VERTICAL: "legacy_strip_tile_vertical",
            LEGACY_STRIP_SCALE_TO_FILL: "legacy_strip_fill",
            LEGACY_STRIP_SCALE_TO_FIT: "legacy_strip_fit",
            LEGACY_STRIP_FIT_AND_TILE: "legacy_strip_fit_and_tile",
            LEGACY_STRIP_ORIGINAL_SIZE: "legacy_strip_original_size",
            LEGACY_ORIGINAL_SIZE: "actual_size",
            LEGACY_FIT_WIDTH: "fitWidth",
            LEGACY_FIT_HEIGHT: "fitHeight",
            LEGACY_FULL: "full",
            LEGACY_BG_FIT_AND_TILE: "legacy_tile",
            LEGACY_BG_FIT_AND_TILE_HORIZONTAL: "legacy_tile_horizontal",
            LEGACY_BG_FIT_AND_TILE_VERTICAL: "legacy_tile_vertical",
            LEGACY_BG_NORMAL: "legacy_normal",
          },
          y = "fit",
          C = "fill",
          S = "fill_focal",
          R = "crop",
          v = "legacy_crop",
          x = "legacy_fill",
          k = {
            CENTER: "center",
            TOP: "top",
            TOP_LEFT: "top_left",
            TOP_RIGHT: "top_right",
            BOTTOM: "bottom",
            BOTTOM_LEFT: "bottom_left",
            BOTTOM_RIGHT: "bottom_right",
            LEFT: "left",
            RIGHT: "right",
          },
          G = {
            [k.CENTER]: { x: 0.5, y: 0.5 },
            [k.TOP_LEFT]: { x: 0, y: 0 },
            [k.TOP_RIGHT]: { x: 1, y: 0.5 },
            [k.TOP]: { x: 0.5, y: 0 },
            [k.BOTTOM_LEFT]: { x: 0, y: 1 },
            [k.BOTTOM_RIGHT]: { x: 1, y: 1 },
            [k.BOTTOM]: { x: 0.5, y: 1 },
            [k.RIGHT]: { x: 1, y: 0.5 },
            [k.LEFT]: { x: 0, y: 0.5 },
          },
          P = {
            center: "c",
            top: "t",
            top_left: "tl",
            top_right: "tr",
            bottom: "b",
            bottom_left: "bl",
            bottom_right: "br",
            left: "l",
            right: "r",
          },
          N = { BG: "bg", IMG: "img", SVG: "svg" },
          F = { AUTO: "auto", CLASSIC: "classic", SUPER: "super" },
          j = 1,
          H = 2,
          Y = { radius: "0.66", amount: "1.00", threshold: "0.01" },
          B = {
            uri: "",
            css: { img: {}, container: {} },
            attr: { img: {}, container: {} },
            transformed: !1,
          },
          U = 25e6,
          $ = [1.5, 2, 4],
          z = {
            HIGH: { size: 196e4, quality: 90, maxUpscale: 1 },
            MEDIUM: { size: 36e4, quality: 85, maxUpscale: 1 },
            LOW: { size: 16e4, quality: 80, maxUpscale: 1.2 },
            TINY: { size: 0, quality: 80, maxUpscale: 1.4 },
          },
          D = "HIGH",
          W = "MEDIUM",
          Z = "LOW",
          q = "TINY",
          V = "contrast",
          X = "brightness",
          Q = "saturation",
          J = "hue",
          K = "blur",
          tt = "jpg",
          et = "jpeg",
          it = "jpe",
          nt = "png",
          at = "webp",
          rt = "gif",
          ot = "unrecognized",
          ct = { isMobile: !1 };
        function st() {
          if ("undefined" != typeof window && "undefined" != typeof navigator) {
            const e =
                window.matchMedia &&
                window.matchMedia("(max-width: 767px)").matches,
              i =
                /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(
                  navigator.userAgent
                );
            (t = e && i), (ct["isMobile"] = t);
          }
          var t;
        }
        function lt(t, ...e) {
          return function (...i) {
            const n = i[i.length - 1] || {},
              a = [t[0]];
            return (
              e.forEach(function (e, r) {
                const o = Number.isInteger(e) ? i[e] : n[e];
                a.push(o, t[r + 1]);
              }),
              a.join("")
            );
          };
        }
        function ut(t) {
          return t[t.length - 1];
        }
        const ht = [nt, et, tt, it, "wix_ico_mp", "wix_mp"],
          dt = [et, tt, it];
        function gt(t, e, i) {
          return (
            i &&
            e &&
            !(!(n = e.id) || !n.trim() || "none" === n.toLowerCase()) &&
            Object.values(M).includes(t)
          );
          var n;
        }
        function pt(t) {
          return (
            (function (t) {
              return ht.includes(Et(t));
            })(t) && !/(^https?)|(^data)|(^\/\/)/.test(t)
          );
        }
        function ft(t) {
          return Et(t) === nt;
        }
        const mt = ["/", "\\", "?", "<", ">", "|", "\u201c", ":", '"'].map(
            encodeURIComponent
          ),
          _t = ["\\.", "\\*"];
        function Tt(t) {
          return (function (t) {
            return dt.includes(Et(t));
          })(t)
            ? tt
            : ft(t)
            ? nt
            : (function (t) {
                return Et(t) === at;
              })(t)
            ? at
            : ot;
        }
        function Et(t) {
          return (
            (/[.]([^.]+)$/.exec(t) && /[.]([^.]+)$/.exec(t)[1]) ||
            ""
          ).toLowerCase();
        }
        function It(t, e, i, n, a) {
          let r;
          return (
            (r =
              a === C
                ? (function (t, e, i, n) {
                    return Math.max(i / t, n / e);
                  })(t, e, i, n)
                : a === y
                ? (function (t, e, i, n) {
                    return Math.min(i / t, n / e);
                  })(t, e, i, n)
                : 1),
            r
          );
        }
        function Lt(t, e, i, n, a, r) {
          (t = t || n.width), (e = e || n.height);
          const {
            scaleFactor: o,
            width: c,
            height: s,
          } = (function (t, e, i, n, a) {
            let r,
              o = i,
              c = n;
            if (
              ((r = It(t, e, i, n, a)),
              a === y && ((o = t * r), (c = e * r)),
              o && c && o * c > U)
            ) {
              const i = Math.sqrt(U / (o * c));
              (o *= i), (c *= i), (r = It(t, e, o, c, a));
            }
            return { scaleFactor: r, width: o, height: c };
          })(t, e, n.width * a, n.height * a, i);
          return (function (t, e, i, n, a, r, o) {
            const {
              optimizedScaleFactor: c,
              upscaleMethodValue: s,
              forceUSM: l,
            } = (function (t, e, i, n) {
              if ("auto" === n)
                return (function (t, e) {
                  const i = wt(t, e);
                  return {
                    optimizedScaleFactor: z[i].maxUpscale,
                    upscaleMethodValue: j,
                    forceUSM: !1,
                  };
                })(t, e);
              if ("super" === n)
                return (function (t) {
                  return {
                    optimizedScaleFactor: ut($),
                    upscaleMethodValue: H,
                    forceUSM: !($.includes(t) || t > ut($)),
                  };
                })(i);
              return (function (t, e) {
                const i = wt(t, e);
                return {
                  optimizedScaleFactor: z[i].maxUpscale,
                  upscaleMethodValue: j,
                  forceUSM: !1,
                };
              })(t, e);
            })(t, e, r, a);
            let u = i,
              h = n;
            if (r <= c)
              return {
                width: u,
                height: h,
                scaleFactor: r,
                upscaleMethodValue: s,
                forceUSM: l,
                cssUpscaleNeeded: !1,
              };
            switch (o) {
              case C:
                (u = i * (c / r)), (h = n * (c / r));
                break;
              case y:
                (u = t * c), (h = e * c);
            }
            return {
              width: u,
              height: h,
              scaleFactor: c,
              upscaleMethodValue: s,
              forceUSM: l,
              cssUpscaleNeeded: !0,
            };
          })(t, e, c, s, r, o, i);
        }
        function bt(t, e, i, n) {
          const a =
            At(i) ||
            (function (t = k.CENTER) {
              return G[t];
            })(n);
          return {
            x: Math.max(
              0,
              Math.min(t.width - e.width, a.x * t.width - e.width / 2)
            ),
            y: Math.max(
              0,
              Math.min(t.height - e.height, a.y * t.height - e.height / 2)
            ),
            width: Math.min(t.width, e.width),
            height: Math.min(t.height, e.height),
          };
        }
        function Ot(t) {
          return (t.alignment && P[t.alignment]) || P[k.CENTER];
        }
        function At(t) {
          let e;
          return (
            !t ||
              "number" != typeof t.x ||
              isNaN(t.x) ||
              "number" != typeof t.y ||
              isNaN(t.y) ||
              (e = {
                x: Mt(Math.max(0, Math.min(100, t.x)) / 100, 2),
                y: Mt(Math.max(0, Math.min(100, t.y)) / 100, 2),
              }),
            e
          );
        }
        function wt(t, e) {
          const i = t * e;
          return i > z[D].size ? D : i > z[W].size ? W : i > z[Z].size ? Z : q;
        }
        function Mt(t, e) {
          const i = Math.pow(10, e || 0);
          return ((t * i) / i).toFixed(e);
        }
        function yt(t) {
          return (
            (t && t.upscaleMethod && F[t.upscaleMethod.toUpperCase()]) || F.AUTO
          );
        }
        function Ct(t, e) {
          const i = { css: { container: {} } },
            { css: n } = i,
            { fittingType: a } = t;
          switch (a) {
            case M.ORIGINAL_SIZE:
            case M.LEGACY_ORIGINAL_SIZE:
            case M.LEGACY_STRIP_ORIGINAL_SIZE:
              (n.container.backgroundSize = "auto"),
                (n.container.backgroundRepeat = "no-repeat");
              break;
            case M.SCALE_TO_FIT:
            case M.LEGACY_STRIP_SCALE_TO_FIT:
              (n.container.backgroundSize = "contain"),
                (n.container.backgroundRepeat = "no-repeat");
              break;
            case M.STRETCH:
              (n.container.backgroundSize = "100% 100%"),
                (n.container.backgroundRepeat = "no-repeat");
              break;
            case M.SCALE_TO_FILL:
            case M.LEGACY_STRIP_SCALE_TO_FILL:
              (n.container.backgroundSize = "cover"),
                (n.container.backgroundRepeat = "no-repeat");
              break;
            case M.TILE_HORIZONTAL:
            case M.LEGACY_STRIP_TILE_HORIZONTAL:
              (n.container.backgroundSize = "auto"),
                (n.container.backgroundRepeat = "repeat-x");
              break;
            case M.TILE_VERTICAL:
            case M.LEGACY_STRIP_TILE_VERTICAL:
              (n.container.backgroundSize = "auto"),
                (n.container.backgroundRepeat = "repeat-y");
              break;
            case M.TILE:
            case M.LEGACY_STRIP_TILE:
              (n.container.backgroundSize = "auto"),
                (n.container.backgroundRepeat = "repeat");
              break;
            case M.LEGACY_STRIP_FIT_AND_TILE:
              (n.container.backgroundSize = "contain"),
                (n.container.backgroundRepeat = "repeat");
              break;
            case M.FIT_AND_TILE:
            case M.LEGACY_BG_FIT_AND_TILE:
              (n.container.backgroundSize = "auto"),
                (n.container.backgroundRepeat = "repeat");
              break;
            case M.LEGACY_BG_FIT_AND_TILE_HORIZONTAL:
              (n.container.backgroundSize = "auto"),
                (n.container.backgroundRepeat = "repeat-x");
              break;
            case M.LEGACY_BG_FIT_AND_TILE_VERTICAL:
              (n.container.backgroundSize = "auto"),
                (n.container.backgroundRepeat = "repeat-y");
              break;
            case M.LEGACY_BG_NORMAL:
              (n.container.backgroundSize = "auto"),
                (n.container.backgroundRepeat = "no-repeat");
          }
          switch (e.alignment) {
            case k.CENTER:
              n.container.backgroundPosition = "center center";
              break;
            case k.LEFT:
              n.container.backgroundPosition = "left center";
              break;
            case k.RIGHT:
              n.container.backgroundPosition = "right center";
              break;
            case k.TOP:
              n.container.backgroundPosition = "center top";
              break;
            case k.BOTTOM:
              n.container.backgroundPosition = "center bottom";
              break;
            case k.TOP_RIGHT:
              n.container.backgroundPosition = "right top";
              break;
            case k.TOP_LEFT:
              n.container.backgroundPosition = "left top";
              break;
            case k.BOTTOM_RIGHT:
              n.container.backgroundPosition = "right bottom";
              break;
            case k.BOTTOM_LEFT:
              n.container.backgroundPosition = "left bottom";
          }
          return i;
        }
        const St = {
            [k.CENTER]: "center",
            [k.TOP]: "top",
            [k.TOP_LEFT]: "top left",
            [k.TOP_RIGHT]: "top right",
            [k.BOTTOM]: "bottom",
            [k.BOTTOM_LEFT]: "bottom left",
            [k.BOTTOM_RIGHT]: "bottom right",
            [k.LEFT]: "left",
            [k.RIGHT]: "right",
          },
          Rt = {
            position: "absolute",
            top: "auto",
            right: "auto",
            bottom: "auto",
            left: "auto",
          };
        function vt(t, e) {
          const i = { css: { container: {}, img: {} } },
            { css: n } = i,
            { fittingType: a } = t,
            r = e.alignment;
          switch (((n.container.position = "relative"), a)) {
            case M.ORIGINAL_SIZE:
            case M.LEGACY_ORIGINAL_SIZE:
              t.parts && t.parts.length
                ? ((n.img.width = t.parts[0].width),
                  (n.img.height = t.parts[0].height))
                : ((n.img.width = t.src.width), (n.img.height = t.src.height));
              break;
            case M.SCALE_TO_FIT:
            case M.LEGACY_FIT_WIDTH:
            case M.LEGACY_FIT_HEIGHT:
            case M.LEGACY_FULL:
              (n.img.width = e.width),
                (n.img.height = e.height),
                (n.img.objectFit = "contain"),
                (n.img.objectPosition = St[r] || "unset");
              break;
            case M.LEGACY_BG_NORMAL:
              (n.img.width = "100%"),
                (n.img.height = "100%"),
                (n.img.objectFit = "none"),
                (n.img.objectPosition = St[r] || "unset");
              break;
            case M.STRETCH:
              (n.img.width = e.width),
                (n.img.height = e.height),
                (n.img.objectFit = "fill");
              break;
            case M.SCALE_TO_FILL:
              (n.img.width = e.width),
                (n.img.height = e.height),
                (n.img.objectFit = "cover");
          }
          if (
            "number" == typeof n.img.width &&
            "number" == typeof n.img.height &&
            (n.img.width !== e.width || n.img.height !== e.height)
          ) {
            const t = Math.round((e.height - n.img.height) / 2),
              i = Math.round((e.width - n.img.width) / 2);
            Object.assign(
              n.img,
              Rt,
              (function (t, e, i) {
                return {
                  [k.TOP_LEFT]: { top: 0, left: 0 },
                  [k.TOP_RIGHT]: { top: 0, right: 0 },
                  [k.TOP]: { top: 0, left: e },
                  [k.BOTTOM_LEFT]: { bottom: 0, left: 0 },
                  [k.BOTTOM_RIGHT]: { bottom: 0, right: 0 },
                  [k.BOTTOM]: { bottom: 0, left: e },
                  [k.RIGHT]: { top: t, right: 0 },
                  [k.LEFT]: { top: t, left: 0 },
                  [k.CENTER]: {
                    width: i.width,
                    height: i.height,
                    objectFit: "none",
                  },
                };
              })(t, i, e)[r]
            );
          }
          return i;
        }
        function xt(t, e) {
          const i = {
              css: { container: {} },
              attr: { container: {}, img: {} },
            },
            { css: n, attr: a } = i,
            { fittingType: r } = t,
            o = e.alignment,
            { width: c, height: s } = t.src;
          let l;
          switch (((n.container.position = "relative"), r)) {
            case M.ORIGINAL_SIZE:
            case M.LEGACY_ORIGINAL_SIZE:
            case M.TILE:
              t.parts && t.parts.length
                ? ((a.img.width = t.parts[0].width),
                  (a.img.height = t.parts[0].height))
                : ((a.img.width = c), (a.img.height = s)),
                (a.img.preserveAspectRatio = "xMidYMid slice");
              break;
            case M.SCALE_TO_FIT:
            case M.LEGACY_FIT_WIDTH:
            case M.LEGACY_FIT_HEIGHT:
            case M.LEGACY_FULL:
              (a.img.width = "100%"),
                (a.img.height = "100%"),
                (a.img.transform = ""),
                (a.img.preserveAspectRatio = "");
              break;
            case M.STRETCH:
              (a.img.width = e.width),
                (a.img.height = e.height),
                (a.img.x = 0),
                (a.img.y = 0),
                (a.img.transform = ""),
                (a.img.preserveAspectRatio = "none");
              break;
            case M.SCALE_TO_FILL:
              pt(t.src.id)
                ? ((a.img.width = e.width), (a.img.height = e.height))
                : ((l = (function (t, e, i, n, a) {
                    const r = It(t, e, i, n, a);
                    return {
                      width: Math.round(t * r),
                      height: Math.round(e * r),
                    };
                  })(c, s, e.width, e.height, C)),
                  (a.img.width = l.width),
                  (a.img.height = l.height)),
                (a.img.x = 0),
                (a.img.y = 0),
                (a.img.transform = ""),
                (a.img.preserveAspectRatio = "xMidYMid slice");
          }
          if (
            "number" == typeof a.img.width &&
            "number" == typeof a.img.height &&
            (a.img.width !== e.width || a.img.height !== e.height)
          ) {
            let t,
              i,
              n = 0,
              c = 0;
            r === M.TILE
              ? ((t = e.width % a.img.width), (i = e.height % a.img.height))
              : ((t = e.width - a.img.width), (i = e.height - a.img.height));
            const s = Math.round(t / 2),
              l = Math.round(i / 2);
            switch (o) {
              case k.TOP_LEFT:
                (n = 0), (c = 0);
                break;
              case k.TOP:
                (n = s), (c = 0);
                break;
              case k.TOP_RIGHT:
                (n = t), (c = 0);
                break;
              case k.LEFT:
                (n = 0), (c = l);
                break;
              case k.CENTER:
                (n = s), (c = l);
                break;
              case k.RIGHT:
                (n = t), (c = l);
                break;
              case k.BOTTOM_LEFT:
                (n = 0), (c = i);
                break;
              case k.BOTTOM:
                (n = s), (c = i);
                break;
              case k.BOTTOM_RIGHT:
                (n = t), (c = i);
            }
            (a.img.x = n), (a.img.y = c);
          }
          return (
            (a.container.width = e.width),
            (a.container.height = e.height),
            (a.container.viewBox = [0, 0, e.width, e.height].join(" ")),
            i
          );
        }
        function kt() {
          return ct["isMobile"];
        }
        function Gt(t, e, i) {
          let n;
          switch (
            (e.crop &&
              ((n = (function (t, e) {
                const i = Math.max(
                    0,
                    Math.min(t.width, e.x + e.width) - Math.max(0, e.x)
                  ),
                  n = Math.max(
                    0,
                    Math.min(t.height, e.y + e.height) - Math.max(0, e.y)
                  );
                return i && n && (t.width !== i || t.height !== n)
                  ? {
                      x: Math.max(0, e.x),
                      y: Math.max(0, e.y),
                      width: i,
                      height: n,
                    }
                  : null;
              })(e, e.crop)),
              n &&
                ((t.src.width = n.width),
                (t.src.height = n.height),
                (t.src.isCropped = !0),
                t.parts.push(Nt(n)))),
            t.fittingType)
          ) {
            case M.SCALE_TO_FIT:
            case M.LEGACY_FIT_WIDTH:
            case M.LEGACY_FIT_HEIGHT:
            case M.LEGACY_FULL:
            case M.FIT_AND_TILE:
            case M.LEGACY_BG_FIT_AND_TILE:
            case M.LEGACY_BG_FIT_AND_TILE_HORIZONTAL:
            case M.LEGACY_BG_FIT_AND_TILE_VERTICAL:
            case M.LEGACY_BG_NORMAL:
              t.parts.push(Pt(t, i));
              break;
            case M.SCALE_TO_FILL:
              t.parts.push(
                (function (t, e) {
                  const i = Lt(
                      t.src.width,
                      t.src.height,
                      C,
                      e,
                      t.devicePixelRatio,
                      t.upscaleMethod
                    ),
                    n = At(t.focalPoint);
                  return {
                    transformType: n ? S : C,
                    width: Math.round(i.width),
                    height: Math.round(i.height),
                    alignment: Ot(e),
                    focalPointX: n && n.x,
                    focalPointY: n && n.y,
                    upscale: i.scaleFactor > 1,
                    forceUSM: i.forceUSM,
                    scaleFactor: i.scaleFactor,
                    cssUpscaleNeeded: i.cssUpscaleNeeded,
                    upscaleMethodValue: i.upscaleMethodValue,
                  };
                })(t, i)
              );
              break;
            case M.STRETCH:
              t.parts.push(
                (function (t, e) {
                  const i = It(t.src.width, t.src.height, e.width, e.height, C),
                    n = Object.assign({}, e);
                  return (
                    (n.width = t.src.width * i),
                    (n.height = t.src.height * i),
                    Pt(t, n)
                  );
                })(t, i)
              );
              break;
            case M.TILE_HORIZONTAL:
            case M.TILE_VERTICAL:
            case M.TILE:
            case M.LEGACY_ORIGINAL_SIZE:
            case M.ORIGINAL_SIZE:
              (n = bt(t.src, i, t.focalPoint, i.alignment)),
                t.src.isCropped
                  ? (Object.assign(t.parts[0], n),
                    (t.src.width = n.width),
                    (t.src.height = n.height))
                  : t.parts.push(Nt(n));
              break;
            case M.LEGACY_STRIP_TILE_HORIZONTAL:
            case M.LEGACY_STRIP_TILE_VERTICAL:
            case M.LEGACY_STRIP_TILE:
            case M.LEGACY_STRIP_ORIGINAL_SIZE:
              t.parts.push(
                (function (t) {
                  return {
                    transformType: v,
                    width: Math.round(t.width),
                    height: Math.round(t.height),
                    alignment: Ot(t),
                    upscale: !1,
                    forceUSM: !1,
                    scaleFactor: 1,
                    cssUpscaleNeeded: !1,
                  };
                })(i)
              );
              break;
            case M.LEGACY_STRIP_SCALE_TO_FIT:
            case M.LEGACY_STRIP_FIT_AND_TILE:
              t.parts.push(
                (function (t) {
                  return {
                    transformType: y,
                    width: Math.round(t.width),
                    height: Math.round(t.height),
                    upscale: !1,
                    forceUSM: !0,
                    scaleFactor: 1,
                    cssUpscaleNeeded: !1,
                  };
                })(i)
              );
              break;
            case M.LEGACY_STRIP_SCALE_TO_FILL:
              t.parts.push(
                (function (t) {
                  return {
                    transformType: x,
                    width: Math.round(t.width),
                    height: Math.round(t.height),
                    alignment: Ot(t),
                    upscale: !1,
                    forceUSM: !0,
                    scaleFactor: 1,
                    cssUpscaleNeeded: !1,
                  };
                })(i)
              );
          }
        }
        function Pt(t, e) {
          const i = Lt(
            t.src.width,
            t.src.height,
            y,
            e,
            t.devicePixelRatio,
            t.upscaleMethod
          );
          return {
            transformType: C,
            width: Math.round(i.width),
            height: Math.round(i.height),
            alignment: P.center,
            upscale: i.scaleFactor > 1,
            forceUSM: i.forceUSM,
            scaleFactor: i.scaleFactor,
            cssUpscaleNeeded: i.cssUpscaleNeeded,
            upscaleMethodValue: i.upscaleMethodValue,
          };
        }
        function Nt(t) {
          return {
            transformType: R,
            x: Math.round(t.x),
            y: Math.round(t.y),
            width: Math.round(t.width),
            height: Math.round(t.height),
            upscale: !1,
            forceUSM: !1,
            scaleFactor: 1,
            cssUpscaleNeeded: !1,
          };
        }
        function Ft(t, e) {
          var i;
          (e = e || {}),
            (t.quality = (function (t, e) {
              const i = t.fileType === nt,
                n = t.fileType === tt,
                a = n || i;
              if (a) {
                const n = ut(t.parts),
                  a = ((r = n.width), (o = n.height), z[wt(r, o)].quality);
                let c =
                  e.quality && e.quality >= 5 && e.quality <= 90
                    ? e.quality
                    : a;
                return (c = i ? c + 5 : c), c;
              }
              var r, o;
              return 0;
            })(t, e)),
            (t.progressive = (function (t) {
              return !1 !== t.progressive;
            })(e)),
            (t.watermark = (function (t) {
              return t.watermark;
            })(e)),
            (t.autoEncode = null === (i = e.autoEncode) || void 0 === i || i),
            (t.unsharpMask = (function (t, e) {
              var i, n, a;
              if (
                (function (t) {
                  const e =
                      "number" == typeof (t = t || {}).radius &&
                      !isNaN(t.radius) &&
                      t.radius >= 0.1 &&
                      t.radius <= 500,
                    i =
                      "number" == typeof t.amount &&
                      !isNaN(t.amount) &&
                      t.amount >= 0 &&
                      t.amount <= 10,
                    n =
                      "number" == typeof t.threshold &&
                      !isNaN(t.threshold) &&
                      t.threshold >= 0 &&
                      t.threshold <= 255;
                  return e && i && n;
                })(e.unsharpMask)
              )
                return {
                  radius: Mt(
                    null === (i = e.unsharpMask) || void 0 === i
                      ? void 0
                      : i.radius,
                    2
                  ),
                  amount: Mt(
                    null === (n = e.unsharpMask) || void 0 === n
                      ? void 0
                      : n.amount,
                    2
                  ),
                  threshold: Mt(
                    null === (a = e.unsharpMask) || void 0 === a
                      ? void 0
                      : a.threshold,
                    2
                  ),
                };
              if (
                ("number" != typeof (r = (r = e.unsharpMask) || {}).radius ||
                  isNaN(r.radius) ||
                  0 !== r.radius ||
                  "number" != typeof r.amount ||
                  isNaN(r.amount) ||
                  0 !== r.amount ||
                  "number" != typeof r.threshold ||
                  isNaN(r.threshold) ||
                  0 !== r.threshold) &&
                (function (t) {
                  const e = ut(t.parts);
                  return !(e.scaleFactor >= 1) || e.forceUSM;
                })(t)
              )
                return Y;
              var r;
              return;
            })(t, e)),
            (t.filters = (function (t) {
              const e = t.filters || {},
                i = {};
              jt(e[V], -100, 100) && (i[V] = e[V]);
              jt(e[X], -100, 100) && (i[X] = e[X]);
              jt(e[Q], -100, 100) && (i[Q] = e[Q]);
              jt(e[J], -180, 180) && (i[J] = e[J]);
              jt(e[K], 0, 100) && (i[K] = e[K]);
              return i;
            })(e));
        }
        function jt(t, e, i) {
          return (
            "number" == typeof t && !isNaN(t) && 0 !== t && t >= e && t <= i
          );
        }
        function Ht(t, e, i, n) {
          const a = (function (t) {
              var e;
              return (
                null !== (e = null == t ? void 0 : t.isSEOBot) &&
                void 0 !== e &&
                e
              );
            })(n),
            r = Tt(e.id),
            o = (function (t, e) {
              const i = /\.([^.]*)$/,
                n = new RegExp(`(${mt.concat(_t).join("|")})`, "g");
              if (e && e.length) {
                let t = e;
                const a = e.match(i);
                return (
                  a && ht.includes(a[1]) && (t = e.replace(i, "")),
                  encodeURIComponent(t).replace(n, "_")
                );
              }
              const a = t.match(/\/(.*?)$/);
              return (a ? a[1] : t).replace(i, "");
            })(e.id, e.name),
            c = a
              ? 1
              : (function (t) {
                  return Math.min(t.pixelAspectRatio || 1, 2);
                })(i),
            s = Et(e.id),
            l = s,
            u = pt(e.id),
            h = {
              fileName: o,
              fileExtension: s,
              fileType: r,
              fittingType: t,
              preferredExtension: l,
              src: {
                id: e.id,
                width: e.width,
                height: e.height,
                isCropped: !1,
              },
              focalPoint: {
                x: e.focalPoint && e.focalPoint.x,
                y: e.focalPoint && e.focalPoint.y,
              },
              parts: [],
              devicePixelRatio: c,
              quality: 0,
              upscaleMethod: yt(n),
              progressive: !0,
              watermark: "",
              unsharpMask: {},
              filters: {},
              transformed: u,
            };
          return u && (Gt(h, e, i), Ft(h, n)), h;
        }
        function Yt(t, e, i) {
          const n = Object.assign({}, i),
            a = kt();
          switch (t) {
            case M.LEGACY_BG_FIT_AND_TILE:
            case M.LEGACY_BG_FIT_AND_TILE_HORIZONTAL:
            case M.LEGACY_BG_FIT_AND_TILE_VERTICAL:
            case M.LEGACY_BG_NORMAL:
              const t = a ? 1e3 : 1920,
                i = a ? 1e3 : 1920;
              (n.width = Math.min(t, e.width)),
                (n.height = Math.min(
                  i,
                  Math.round(n.width / (e.width / e.height))
                )),
                (n.pixelAspectRatio = 1);
          }
          return n;
        }
        const Bt = lt`fit/w_${"width"},h_${"height"}`,
          Ut = lt`fill/w_${"width"},h_${"height"},al_${"alignment"}`,
          $t = lt`fill/w_${"width"},h_${"height"},fp_${"focalPointX"}_${"focalPointY"}`,
          zt = lt`crop/x_${"x"},y_${"y"},w_${"width"},h_${"height"}`,
          Dt = lt`crop/w_${"width"},h_${"height"},al_${"alignment"}`,
          Wt = lt`fill/w_${"width"},h_${"height"},al_${"alignment"}`,
          Zt = lt`,lg_${"upscaleMethodValue"}`,
          qt = lt`,q_${"quality"}`,
          Vt = lt`,usm_${"radius"}_${"amount"}_${"threshold"}`,
          Xt = lt`,bl`,
          Qt = lt`,wm_${"watermark"}`,
          Jt = {
            [V]: lt`,con_${"contrast"}`,
            [X]: lt`,br_${"brightness"}`,
            [Q]: lt`,sat_${"saturation"}`,
            [J]: lt`,hue_${"hue"}`,
            [K]: lt`,blur_${"blur"}`,
          },
          Kt = lt`,enc_auto`;
        function te(t, e, i, n = {}, a) {
          return pt(e.id)
            ? (function (t) {
                const e = [];
                t.parts.forEach((t) => {
                  switch (t.transformType) {
                    case R:
                      e.push(zt(t));
                      break;
                    case v:
                      e.push(Dt(t));
                      break;
                    case x:
                      let i = Wt(t);
                      t.upscale && (i += Zt(t)), e.push(i);
                      break;
                    case y:
                      let n = Bt(t);
                      t.upscale && (n += Zt(t)), e.push(n);
                      break;
                    case C:
                      let a = Ut(t);
                      t.upscale && (a += Zt(t)), e.push(a);
                      break;
                    case S:
                      let r = $t(t);
                      t.upscale && (r += Zt(t)), e.push(r);
                  }
                });
                let i = e.join("/");
                return (
                  t.quality && (i += qt(t)),
                  t.unsharpMask && (i += Vt(t.unsharpMask)),
                  t.progressive || (i += Xt(t)),
                  t.watermark && (i += Qt(t)),
                  t.filters &&
                    (i += Object.keys(t.filters)
                      .map((e) => Jt[e](t.filters))
                      .join("")),
                  t.autoEncode && t.fileType !== rt && (i += Kt(t)),
                  `${t.src.id}/v1/${i}/${t.fileName}.${t.preferredExtension}`
                );
              })((a = a || Ht(t, e, i, n)))
            : e.id;
        }
        const ee = {
            [k.CENTER]: "50% 50%",
            [k.TOP_LEFT]: "0% 0%",
            [k.TOP_RIGHT]: "100% 0%",
            [k.TOP]: "50% 0%",
            [k.BOTTOM_LEFT]: "0% 100%",
            [k.BOTTOM_RIGHT]: "100% 100%",
            [k.BOTTOM]: "50% 100%",
            [k.RIGHT]: "100% 50%",
            [k.LEFT]: "0% 50%",
          },
          ie = Object.entries(ee).reduce((t, [e, i]) => ((t[i] = e), t), {}),
          ne = [
            M.TILE,
            M.TILE_HORIZONTAL,
            M.TILE_VERTICAL,
            M.LEGACY_BG_FIT_AND_TILE,
            M.LEGACY_BG_FIT_AND_TILE_HORIZONTAL,
            M.LEGACY_BG_FIT_AND_TILE_VERTICAL,
          ],
          ae = [M.LEGACY_ORIGINAL_SIZE, M.ORIGINAL_SIZE, M.LEGACY_BG_NORMAL];
        function re(t, e, { width: i, height: n }) {
          return t === M.TILE && e.width > i && e.height > n;
        }
        function oe(t, e, i, n = "center") {
          const a = { img: {}, container: {} };
          if (t === M.SCALE_TO_FILL) {
            const t =
                e.focalPoint &&
                (function (t) {
                  const e = `${t.x}% ${t.y}%`;
                  return ie[e] || "";
                })(e.focalPoint),
              r = t || n;
            e.focalPoint && !t
              ? (a.img = { objectPosition: ce(e, i, e.focalPoint) })
              : (a.img = { objectPosition: ee[r] });
          } else
            [M.LEGACY_ORIGINAL_SIZE, M.ORIGINAL_SIZE].includes(t)
              ? (a.img = {
                  objectFit: "none",
                  top: "auto",
                  left: "auto",
                  right: "auto",
                  bottom: "auto",
                })
              : ne.includes(t) &&
                (a.container = {
                  backgroundSize: `${e.width}px ${e.height}px`,
                });
          return a;
        }
        function ce(t, e, i) {
          const { width: n, height: a } = t,
            { width: r, height: o } = e,
            { x: c, y: s } = i;
          if (!r || !o) return `${c}% ${s}%`;
          const l = Math.max(r / n, o / a),
            u = n * l,
            h = a * l,
            d = Math.max(0, Math.min(u - r, u * (c / 100) - r / 2)),
            g = Math.max(0, Math.min(h - o, h * (s / 100) - o / 2));
          return `${d && Math.floor((d / (u - r)) * 100)}% ${
            g && Math.floor((g / (h - o)) * 100)
          }%`;
        }
        const se = { width: "100%", height: "100%" };
        function le(t, e, i, n = {}) {
          if (!gt(t, e, i)) return B;
          const { autoEncode: a = !0, isSEOBot: r, shouldLoadHQImage: o } = n,
            c = pt(e.id);
          if (!c || o)
            return ue(
              t,
              e,
              i,
              Object.assign(Object.assign({}, n), {
                autoEncode: a,
                useSrcset: c,
              })
            );
          const s = Object.assign(
              Object.assign({}, i),
              (function (t, { width: e, height: i }) {
                if (!e || !i) {
                  const n = e || Math.min(980, t.width),
                    a = n / t.width;
                  return { width: n, height: i || t.height * a };
                }
                return { width: e, height: i };
              })(e, i)
            ),
            { alignment: l, htmlTag: u } = s,
            h = re(t, e, s),
            d = (function (t, e, { width: i, height: n }, a = !1) {
              if (a) return { width: i, height: n };
              const r = !ae.includes(t),
                o = re(t, e, { width: i, height: n }),
                c = !o && ne.includes(t),
                s = c ? e.width : i,
                l = c ? e.height : n,
                u = r
                  ? (function (t, e) {
                      return t > 900
                        ? e
                          ? 0.05
                          : 0.15
                        : t > 500
                        ? e
                          ? 0.1
                          : 0.18
                        : t > 200
                        ? 0.25
                        : 1;
                    })(s, ft(e.id))
                  : 1;
              return { width: o ? 1920 : s * u, height: l * u };
            })(t, e, s, r),
            g = (function (t, e, i) {
              return i ? 0 : ne.includes(e) ? 1 : t > 200 ? 2 : 3;
            })(s.width, t, r),
            p = (function (t, e) {
              const i = ne.includes(t) && !e;
              return t === M.SCALE_TO_FILL || i ? M.SCALE_TO_FIT : t;
            })(t, h),
            f = oe(t, e, i, l),
            { uri: m } = ue(
              p,
              e,
              Object.assign(Object.assign({}, d), { alignment: l, htmlTag: u }),
              { autoEncode: a, filters: g ? { blur: g } : {} }
            ),
            { attr: _ = {}, css: T } = ue(
              t,
              e,
              Object.assign(Object.assign({}, s), { alignment: l, htmlTag: u }),
              {}
            );
          return (
            (T.img = T.img || {}),
            (T.container = T.container || {}),
            Object.assign(T.img, f.img, se),
            Object.assign(T.container, f.container),
            { uri: m, css: T, attr: _, transformed: !0 }
          );
        }
        function ue(t, e, i, n) {
          let a = {};
          if (gt(t, e, i)) {
            const r = Yt(t, e, i),
              o = Ht(t, e, r, n);
            (a.uri = te(t, e, r, n, o)),
              (null == n ? void 0 : n.useSrcset) &&
                (a.srcset = (function (t, e, i, n, a) {
                  const r = i.pixelAspectRatio || 1;
                  return {
                    dpr: [
                      `${
                        1 === r
                          ? a.uri
                          : te(
                              t,
                              e,
                              Object.assign(Object.assign({}, i), {
                                pixelAspectRatio: 1,
                              }),
                              n
                            )
                      } 1x`,
                      `${
                        2 === r
                          ? a.uri
                          : te(
                              t,
                              e,
                              Object.assign(Object.assign({}, i), {
                                pixelAspectRatio: 2,
                              }),
                              n
                            )
                      } 2x`,
                    ],
                  };
                })(t, e, r, n, a)),
              Object.assign(
                a,
                (function (t, e) {
                  let i;
                  return (
                    (i =
                      e.htmlTag === N.BG ? Ct : e.htmlTag === N.SVG ? xt : vt),
                    i(t, e)
                  );
                })(o, r),
                { transformed: o.transformed }
              );
          } else a = B;
          return a;
        }
        function he(t, e, i, n) {
          if (gt(t, e, i)) {
            const a = Yt(t, e, i);
            return { uri: te(t, e, a, n || {}, Ht(t, e, a, n)) };
          }
          return { uri: "" };
        }
        const de = "https://static.wixstatic.com/media/",
          ge = /^media\//i,
          pe = "undefined" != typeof window ? window.devicePixelRatio : 1,
          fe = (t, e) => {
            const i = e && e.baseHostURL;
            return i
              ? `${i}${t}`
              : ((t) =>
                  ge.test(t)
                    ? `https://static.wixstatic.com/${t}`
                    : `${de}${t}`)(t);
          };
        st(), st();
        const me = {
            getScaleToFitImageURL: function (t, e, i, n, a, r) {
              const o = he(
                M.SCALE_TO_FIT,
                { id: t, width: e, height: i, name: r && r.name },
                {
                  width: n,
                  height: a,
                  htmlTag: N.IMG,
                  alignment: k.CENTER,
                  pixelAspectRatio: pe,
                },
                r
              );
              return fe(o.uri, r);
            },
            getScaleToFillImageURL: function (t, e, i, n, a, r) {
              const o = he(
                M.SCALE_TO_FILL,
                {
                  id: t,
                  width: e,
                  height: i,
                  name: r && r.name,
                  focalPoint: {
                    x: r && r.focalPoint && r.focalPoint.x,
                    y: r && r.focalPoint && r.focalPoint.y,
                  },
                },
                {
                  width: n,
                  height: a,
                  htmlTag: N.IMG,
                  alignment: k.CENTER,
                  pixelAspectRatio: pe,
                },
                r
              );
              return fe(o.uri, r);
            },
            getCropImageURL: function (t, e, i, n, a, r, o, c, s, l) {
              const u = he(
                M.SCALE_TO_FILL,
                {
                  id: t,
                  width: e,
                  height: i,
                  name: l && l.name,
                  crop: { x: n, y: a, width: r, height: o },
                },
                {
                  width: c,
                  height: s,
                  htmlTag: N.IMG,
                  alignment: k.CENTER,
                  pixelAspectRatio: pe,
                },
                l
              );
              return fe(u.uri, l);
            },
          },
          _e = de,
          { STATIC_MEDIA_URL: Te } = t,
          Ee = ({ fittingType: t, src: e, target: i, options: n }) => {
            const a = le(
              t,
              e,
              i,
              Object.assign(Object.assign({}, n), { autoEncode: !0 })
            );
            return (
              (null == a ? void 0 : a.uri) &&
                !/^[a-z]+:/.test(a.uri) &&
                (a.uri = `${Te}${a.uri}`),
              a
            );
          },
          Ie = /^[a-z]+:/,
          Le = (t) => {
            var e, i;
            const {
                id: n,
                containerId: a,
                uri: o,
                alt: c,
                name: s = "",
                role: l,
                width: u,
                height: h,
                displayMode: d,
                devicePixelRatio: g,
                quality: p,
                alignType: f,
                bgEffectName: m = "",
                focalPoint: _,
                upscaleMethod: T,
                className: E = "",
                crop: I,
                imageStyles: L = {},
                targetWidth: b,
                targetHeight: O,
                targetScale: A,
                onLoad: M = () => {},
                onError: y = () => {},
                shouldUseLQIP: C,
                containerWidth: S,
                containerHeight: R,
                getPlaceholder: v,
                isInFirstFold: x,
                placeholderTransition: k,
                socialAttrs: G,
                isSEOBot: P,
                skipMeasure: N,
                lazyLoadImgExperimentOpen: F,
              } = t,
              j = r.useRef(null);
            let H = "";
            const Y = "blur" === k,
              B = r.useRef(null);
            if (!B.current)
              if (v || C || x || P) {
                const t = Object.assign(
                  Object.assign({ upscaleMethod: T }, p || {}),
                  { shouldLoadHQImage: x, isSEOBot: P }
                );
                (B.current = (v || Ee)({
                  fittingType: d,
                  src: {
                    id: o,
                    width: u,
                    height: h,
                    crop: I,
                    name: s,
                    focalPoint: _,
                  },
                  target: { width: S, height: R, alignment: f, htmlTag: "img" },
                  options: t,
                })),
                  (H = !B.current.transformed || x || P ? "" : "true");
              } else
                B.current = {
                  uri: void 0,
                  css: { img: {} },
                  attr: { img: {}, container: {} },
                  transformed: !1,
                };
            const U = !P && (v || C) && !x && B.current.transformed,
              $ = r.useMemo(
                () =>
                  JSON.stringify(
                    Object.assign(
                      Object.assign(
                        Object.assign(
                          Object.assign(
                            Object.assign(
                              Object.assign(
                                Object.assign(
                                  Object.assign(
                                    Object.assign(
                                      Object.assign(
                                        { containerId: a },
                                        a && { containerId: a }
                                      ),
                                      f && { alignType: f }
                                    ),
                                    N && { skipMeasure: !0 }
                                  ),
                                  { displayMode: d }
                                ),
                                S && { targetWidth: S }
                              ),
                              R && { targetHeight: R }
                            ),
                            b && { targetWidth: b }
                          ),
                          O && { targetHeight: O }
                        ),
                        A && { targetScale: A }
                      ),
                      {
                        isLQIP: U,
                        isSEOBot: P,
                        lqipTransition: k,
                        imageData: Object.assign(
                          Object.assign(
                            Object.assign(
                              Object.assign(
                                Object.assign(
                                  {
                                    width: u,
                                    height: h,
                                    uri: o,
                                    name: s,
                                    displayMode: d,
                                  },
                                  p && { quality: p }
                                ),
                                g && { devicePixelRatio: g }
                              ),
                              _ && { focalPoint: _ }
                            ),
                            I && { crop: I }
                          ),
                          T && { upscaleMethod: T }
                        ),
                      }
                    )
                  ),
                [a, f, N, d, R, S, b, O, A, U, P, k, u, h, o, s, p, g, _, I, T]
              ),
              z = B.current,
              D = null == z ? void 0 : z.uri,
              W = null == z ? void 0 : z.srcset,
              Z = null === (e = z.css) || void 0 === e ? void 0 : e.img,
              q = `${w} ${E}`;
            r.useEffect(() => {
              var t;
              (null === (t = j.current) || void 0 === t
                ? void 0
                : t.complete) &&
                M &&
                M({ target: j.current });
            }, []);
            const V =
              z && !(null == z ? void 0 : z.transformed)
                ? `max(${u}px, 100%)`
                : b
                ? `${b}px`
                : null;
            return r.createElement(
              "wow-image",
              {
                id: n,
                class: q,
                "data-image-info": $,
                "data-bg-effect-name": m,
                "data-has-ssr-src": H,
                "data-animate-blur": !P && U && Y ? "" : void 0,
                style: V ? { "--wix-img-max-width": V } : {},
              },
              r.createElement(
                "img",
                Object.assign(
                  {
                    src: D,
                    ref: j,
                    alt: c || "",
                    role: l,
                    style: Object.assign(Object.assign({}, Z), L),
                    onLoad: M,
                    onError: y,
                  },
                  G,
                  x
                    ? {
                        srcSet:
                          null === (i = null == W ? void 0 : W.dpr) ||
                          void 0 === i
                            ? void 0
                            : i
                                .map((t) => (Ie.test(t) ? t : `${Te}${t}`))
                                .join(", "),
                        fetchpriority: "high",
                      }
                    : F
                    ? { loading: "lazy" }
                    : {}
                )
              )
            );
          };
        var be = "I5zqsT";
        var Oe = (t) => {
            var e, n;
            const a = t.id,
              o = t.containerId,
              c = t.uri,
              s = t.alt,
              l = t.name,
              u = t.role,
              d = t.width,
              g = t.height,
              p = t.displayMode,
              f = t.devicePixelRatio,
              m = t.quality,
              _ = t.alignType,
              T = t.hasBgScrollEffect,
              E = t.bgEffectName,
              I = void 0 === E ? "" : E,
              L = t.focalPoint,
              b = t.upscaleMethod,
              O = t.className,
              A = void 0 === O ? "" : O,
              w = t.crop,
              M = t.imageStyles,
              y = void 0 === M ? {} : M,
              C = t.onLoad,
              S = void 0 === C ? () => {} : C,
              R = t.onError,
              v = void 0 === R ? () => {} : R,
              x = t.getPlaceholder,
              k = t.containerWidth,
              G = t.containerHeight,
              P = t.skipMeasure,
              N = t.targetScale,
              F = t.isInFirstFold,
              j = t.lazyLoadImgExperimentOpen,
              H = t.shouldUseWowImage;
            let Y = "";
            const B = r.useRef(null);
            if (!B.current)
              if (x) {
                const t = i()({ upscaleMethod: b }, m || {}, {
                  shouldLoadHQImage: F,
                });
                (B.current = x({
                  fittingType: p,
                  src: {
                    id: c,
                    width: d,
                    height: g,
                    crop: w,
                    name: l,
                    focalPoint: L,
                  },
                  target: { width: k, height: G, alignment: _, htmlTag: "img" },
                  options: t,
                })),
                  (Y = !B.current.transformed || F ? "" : "true");
              } else
                B.current = {
                  uri: void 0,
                  css: { img: {} },
                  attr: { img: {}, container: {} },
                  transformed: !1,
                };
            const U = r.useMemo(
                () =>
                  JSON.stringify(
                    i()(
                      { containerId: o },
                      k && { targetWidth: k },
                      G && { targetHeight: G },
                      P && { skipMeasure: !0 },
                      _ && { alignType: _ },
                      N && { targetScale: N },
                      {
                        displayMode: p,
                        imageData: i()(
                          {
                            width: d,
                            height: g,
                            uri: c,
                            name: l,
                            displayMode: p,
                          },
                          m && { quality: m },
                          f && { devicePixelRatio: f },
                          L && { focalPoint: L },
                          w && { crop: w },
                          b && { upscaleMethod: b }
                        ),
                      }
                    )
                  ),
                [o, k, G, N, P, _, p, d, g, c, l, m, f, L, w, b]
              ),
              $ = B.current,
              z = null == $ ? void 0 : $.uri,
              D = null == $ ? void 0 : $.srcset,
              W = null == (e = $.css) ? void 0 : e.img;
            return H
              ? r.createElement(Le, t)
              : r.createElement(
                  "wix-image",
                  {
                    id: a,
                    class: h()(be, A),
                    "data-image-info": U,
                    "data-has-bg-scroll-effect": T,
                    "data-bg-effect-name": I,
                    "data-has-ssr-src": Y,
                  },
                  r.createElement(
                    "img",
                    i()(
                      {
                        src: z,
                        alt: s || "",
                        role: u,
                        style: i()({}, W, y),
                        onLoad: S,
                        onError: v,
                      },
                      F
                        ? {
                            srcSet:
                              null == D || null == (n = D.dpr)
                                ? void 0
                                : n.join(", "),
                            fetchpriority: "high",
                          }
                        : j
                        ? { loading: "lazy" }
                        : {}
                    )
                  )
                );
          },
          Ae = "nTOEE9",
          we = "sqUyGm",
          Me = "C_JY0G";
        let ye,
          Ce,
          Se,
          Re = !1;
        var ve = (t) => {
          const e = t.width,
            n = t.height,
            a = t.className,
            o = r.useState(!1),
            c = o[0],
            s = o[1],
            l = r.useState({ x: 0, y: 0 }),
            u = l[0],
            d = l[1],
            g = r.useRef(null),
            p = (t) => {
              const e = t.nativeEvent;
              if (c) s(!1);
              else if (!c && e && "click" === e.type) {
                s(!0);
                const t = m(e.clientX, e.clientY),
                  i = t.offsetX,
                  n = t.offsetY,
                  a = f(i, n),
                  r = a.x,
                  o = a.y;
                d({ x: r, y: o });
              }
            },
            f = (t, i) => {
              const a = g.current.offsetWidth,
                r = g.current.offsetHeight;
              return { x: (t / a) * (e - a), y: (i / r) * (n - r) };
            },
            m = (t, e) => {
              const i = g.current.getBoundingClientRect();
              return { offsetX: t - i.left, offsetY: e - i.top };
            },
            _ = () => {
              d({ x: ye, y: Ce }), (Re = !1);
            },
            T = {
              onMouseLeave: (t) => {
                Se = setTimeout(() => p(t), 1200);
              },
              onMouseEnter: () => {
                clearTimeout(Se);
              },
              onMouseMove: (t) => {
                const e = t.nativeEvent,
                  i = m(e.clientX, e.clientY),
                  n = i.offsetX,
                  a = i.offsetY;
                var r = f(n, a);
                (ye = r.x),
                  (Ce = r.y),
                  Re || requestAnimationFrame(_),
                  (Re = !0);
              },
            },
            E = c
              ? {
                  transform: "translate(-" + u.x + "px, -" + u.y + "px)",
                  transitionTimingFunction: "ease-out",
                  transitionDuration: "0.2s",
                  willChange: "transform",
                }
              : {},
            I = c ? i()({ onClick: p }, T) : { onClick: p },
            L = c
              ? {
                  [t.shouldUseWowImage ? "targetWidth" : "containerWidth"]:
                    t.width,
                  [t.shouldUseWowImage ? "targetHeight" : "containerHeight"]:
                    t.height,
                  skipMeasure: !0,
                }
              : { skipMeasure: !1 };
          return r.createElement(
            "div",
            i()({}, I, { className: h()(Ae, "" + (c ? Me : we)), ref: g }),
            r.createElement(Oe, i()({}, t, { className: a, imageStyles: E }, L))
          );
        };
        var xe = (t) => {
          const e = t.skinsStyle,
            n = t.id,
            a = t.className,
            o = t.link,
            c = t.imageProps,
            s = t.title,
            l = t.onClick,
            u = t.hasPlatformClickHandler,
            g = void 0 !== u && u,
            p = t.onClickBehavior,
            m = t.onDblClick,
            _ = t.onMouseEnter,
            T = t.onMouseLeave,
            E = t.filterEffectSvgString,
            I = t.filterEffectSvgUrl,
            L = "zoomAndPanMode" === p ? ve : Oe;
          const b = "zoomMode" === p,
            O = ((t) => {
              let e = t.onClickBehavior,
                n = t.className,
                a = t.link;
              const r = { className: n };
              return "zoomMode" === e || "zoomAndPanMode" === e
                ? r
                : i()({}, a, r);
            })({ onClickBehavior: p, className: e.link, link: o }),
            w = b ? o : void 0;
          return r.createElement(
            f,
            i()({ id: n }, d(t), {
              className: h()(a, e.root),
              title: s,
              onClick: l,
              onDblClick: m,
              onMouseEnter: _,
              onMouseLeave: T,
              withOnClickHandler:
                ((M = o),
                !(
                  !M ||
                  (0 === Object.keys(M).length && M.constructor === Object)
                ) ||
                  g ||
                  b),
              filterEffectSvgString: E,
              filterEffectSvgUrl: I,
            }),
            r.createElement(
              A,
              O,
              r.createElement(
                L,
                i()({ id: "img_" + n }, c, { className: e.image, link: w })
              )
            )
          );
          var M;
        };
        const ke = (t) => r.createElement(xe, i()({}, t, { skinsStyle: l }));
        const Ge = (t) => t.replace(/([A-Z])/g, (t) => `-${t.toLowerCase()}`);
        var Pe;
        const Ne = {
          WPhoto_CirclePhoto: {
            component: (t) => r.createElement(s, i()({}, t, { skin: ke })),
            controller:
              ((Pe = (t) => {
                let e = t.controllerUtils,
                  n = t.stateValues,
                  a = t.mapperProps;
                const r = n.experiments;
                return i()({}, a, {
                  lazyLoadImgExperimentOpen: !(
                    null == r || !r["specs.thunderbolt.lazyLoadImages"]
                  ),
                  onSizeChange: (t, i) => {
                    e.updateProps({ width: t, height: i });
                  },
                });
              }),
              {
                useComponentProps: (t, e, i) => {
                  const n = ((t) =>
                    Object.assign(Object.assign({}, t), {
                      updateStyles: (e) => {
                        const i = Object.entries(e).reduce((t, [e, i]) => {
                          return Object.assign(Object.assign({}, t), {
                            [((n = e), n.startsWith("--") ? e : Ge(e))]:
                              void 0 === i ? null : i,
                          });
                          var n;
                        }, {});
                        t.updateStyles(i);
                      },
                    }))(i);
                  return Pe({
                    mapperProps: t,
                    stateValues: e,
                    controllerUtils: n,
                  });
                },
              }),
          },
        };
      })(),
      a
    );
  })();
});
//# sourceMappingURL=https://static.parastorage.com/services/editor-elements-library/dist/thunderbolt/rb_wixui.thunderbolt[WPhoto_CirclePhoto].5551d583.bundle.min.js.map
